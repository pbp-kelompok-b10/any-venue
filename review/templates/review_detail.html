<div id="detailReviewModal"
    class="hidden fixed inset-0 z-50 flex items-center justify-center bg-black/50">

    <div id="detailReviewModalContent"
        class="bg-white shadow-xl
        w-[85%] sm:w-[60%] md:w-[45%] lg:w-[40%]
        max-h-[90vh] overflow-y-auto
        px-10 py-10 relative font-['Roboto']
        transform transition-all duration-300 opacity-0 scale-95">

        <button type="button"
            class="absolute top-4 right-4 text-black hover:text-gray-600 text-lg"
            onclick="hideDetailReviewModal()">
            ✕
        </button>

        <div class="w-full text-center mb-6">
            <h2 class="text-3xl font-bold text-black">Review Details</h2>
            <p class="text-xs text-gray-600 mt-1">Full review details from this user.</p>
        </div>

        <div class="w-full flex flex-col gap-6">
        
            <div class="flex items-center gap-3 border-b pb-4">
                <img id="detailReviewAvatar" src="https://via.placeholder.com/50" alt="User Avatar" class="w-12 h-12 rounded-full bg-gray-200">
                <div>
                    <h3 id="detailReviewUser" class="font-bold text-lg">Nama User...</h3>
                    <p id="detailReviewDate" class="text-sm text-gray-500">Tanggal review...</p>
                </div>
            </div>

            <div class="flex flex-col gap-2">
                <label class="text-s text-black">Rating</label>
                <div id="detailStarContainer" class="flex gap-1">
                    <span data-value="1" class="detailStar text-gray-300 text-2xl">★</span>
                    <span data-value="2" class="detailStar text-gray-300 text-2xl">★</span>
                    <span data-value="3" class="detailStar text-gray-300 text-2xl">★</span>
                    <span data-value="4" class="detailStar text-gray-300 text-2xl">★</span>
                    <span data-value="5" class="detailStar text-gray-300 text-2xl">★</span>
                </div>
            </div>

            <div class="flex flex-col gap-2">
                <label class="text-s text-black">Review</slabel>
                <p id="detailReviewComment" class="w-full p-3 bg-gray-50 border border-gray-300 min-h-[100px] whitespace-pre-wrap">
                    Komentar review akan dimuat di sini...
                </p>
            </div>

            <div class="flex justify-end gap-3 mt-2">
                <button type="button"
                    class="px-5 py-2 border border-black text-black hover:bg-gray-100"
                    onclick="hideDetailReviewModal()">
                    Close
                </button>
            </div>

        </div>
    </div>
</div>

<script>
    const detailReviewModal = document.getElementById('detailReviewModal');
    const detailReviewModalContent = document.getElementById('detailReviewModalContent');
    const detailStars = document.querySelectorAll('.detailStar');

    function highlightDetailStars(rating) {
        detailStars.forEach(s => {
            if (s.getAttribute('data-value') <= rating) {
                s.classList.add('text-yellow-400');
                s.classList.remove('text-gray-300');
            } else {
                s.classList.add('text-gray-300');
                s.classList.remove('text-yellow-400');
            }
        });
    }

    function showDetailReviewModal(reviewData) {
        // 1. isi placeholder dengan data
        document.getElementById('detailReviewUser').textContent = reviewData.user || "Anonymous";
        document.getElementById('detailReviewDate').textContent = reviewData.date || "";
        document.getElementById('detailReviewComment').textContent = reviewData.comment || "No comment provided.";
        
        // set star display
        highlightDetailStars(reviewData.rating || 0);

        // 2. Tampilkan modal
        detailReviewModal.classList.remove('hidden');
        setTimeout(() => {
            detailReviewModalContent.classList.remove('opacity-0', 'scale-95');
            detailReviewModalContent.classList.add('opacity-100', 'scale-100');
        }, 50);
    }

    function hideDetailReviewModal() {
        detailReviewModalContent.classList.remove('opacity-100', 'scale-100');
        detailReviewModalContent.classList.add('opacity-0', 'scale-95');
        setTimeout(() => {
            detailReviewModal.classList.add('hidden');
        }, 150);
    }
</script>